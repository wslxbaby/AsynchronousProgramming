@model Asynchronous.MVC.Models.LocalPasswordModel
@{
    ViewBag.Title = "管理帐户";
}

<header>
    <h1>@ViewBag.Title</h1>
</header>

<div id="main-content">
    <p class="message-success">@ViewBag.StatusMessage</p>

    <p>你已使用以下身份登录: <strong>@User.Identity.Name</strong>.</p>
    <p>@Html.ActionLink("返回我的任务列表", "Index", "Home")</p>

    <section class="todoList">
    @if (ViewBag.HasLocalPassword)
    {
        @Html.Partial("_ChangePasswordPartial")
    }
    else
    { 
        @Html.Partial("_SetPasswordPartial")
    }
    </section>

    <section class="todoList" id="externalLogins">
        @Html.Action("RemoveExternalLogins")

        <h3>添加外部登录</h3>
        @Html.Action("ExternalLoginsList", new { ReturnUrl = ViewBag.ReturnUrl })
    </section>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}